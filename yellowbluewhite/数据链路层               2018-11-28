
#数据链路层
1. 为网络层提供服务
	- 无确定的无连接服务 
	-	有确定的无连接服务
	- 	有确定的面相连接的服务
	
2. 链路管理

3. 帧界定，帧同步和透明传输

4. 流量控制
> 对于数据链路层来说控制的是相邻两个节点的流量, 而对于运输层来说则是从源端到目的端口之间的流量
**流量控制 实际上是限制发送方的数据流量，使其发送速率不至于超过接收方的接收能力**

5. 差错控制

------------


------------


### 组帧
方法
1. 字符计数法
2. 字符填充首尾定界法 
3. bit填充的首尾标志法
4. 违规编码法 eg：IEEE802


------------


### 差错控制
噪声有

1.  信道固有

2.  外界特定的短暂原因造成的冲击噪声

**前者可以通过提高信噪比减少干扰， 后者则不可以后者是产生差错的主要原因**

通常利用编码技术来进行差错控制

1. 自动重传机制(automatic retransmission request ARQ)
> 接收方检测出差错就设法通知发送方重传， 直到收到正确的码字为止

2. 向前纠错机制（forward Error Correction， FEC）
> 发现并检测出差错从而纠正差错， 应此差错编码可以分为EDC（error detected code） 和 纠错编码（Error correcting code）




------------

### 差错控制
检错编码

1. 奇偶校验码

2. 循环冗余校验码

3. 纠错编码



------------
### 流量控制与可靠传输机制


##### 1.流量控制， 可靠传输和滑动窗口机制

##### 2.停止等待流量控制基本原理

##### 3.滑动窗口流量控制基本原理 (滑动窗口协议不同于tcp中的滑动窗口协议)

>滑动窗口的基本特征
(1)只有接收窗口向前滑动时(同时接受方发送了确认帧), 发送窗口才有可能向前滑动
(2)从滑动窗口的概念上看**停等**  **后退N帧** **选择重传** 只在发送窗口大小和接受窗口大小上有差异

|  协议 | 发送窗口  | 接受窗口  |
| ------------ | ------------ | ------------ |
| 停等  |  1 | 1  |
|  后退N帧 | >1 |  1 |
|  选择重传 | >1  | >1  |

##### 4.可靠传输机制

> 数据链路层的可靠传输通常使用**确认**和**超时重传**两种机制

![](https://raw.githubusercontent.com/huhuhudia/Pictures/master/IMG_20181130_222105.jpg)


```latex
t_{sendframe} = l_{frame}/v_{send} = 68ms

 ```
```latex

t_{trans} = 270ms
```
```latex
t_T = t_t*2 + t_s*2 = 668ms
```

```latex

in\,\, time \,\,t_T: maxN = t_T/ts=10.4
```
所以$$2^4$$>10.4>$$2^3$$  所以需要4个bit
**GBN 和 SR 与 序号的关系**
```

### 介质访问控制（media access control）
介质访问控制的方法有：

1. 信道划分介质访问控制 （static)

2. 随机访问介质访问控制 (dynamic)

信道划分实质就是通过分时，分频分码等方法把原来的一条广播信道逻辑上分为几个用于两个节点之间通信的互不干扰的子信道，实际上将
广播信道转变为点对点的信道

##### 信道划分介质访问控制分为4种

1. 频分多路复用（FDM)

2. 时分多路复用  (TDM) （STDM 统计时分)

3. 波分多路复用（WDM)

4. 码分多路复用（CDM)
	- 码分多址（CDMA code division multiple Access)

##### 随机访问介质访问控制（ 争用型协议）
![](https://raw.githubusercontent.com/huhuhudia/Pictures/master/Screenshot_from_2018-12-03_14-22-40.png )
![](https://raw.githubusercontent.com/huhuhudia/Pictures/master/IMG_20181203_151957.jpg)


![](https://raw.githubusercontent.com/huhuhudia/Pictures/master/IMG_20181203_164741.jpg)










